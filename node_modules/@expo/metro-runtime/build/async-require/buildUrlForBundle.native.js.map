{"version":3,"file":"buildUrlForBundle.native.js","sourceRoot":"","sources":["../../src/async-require/buildUrlForBundle.native.ts"],"names":[],"mappings":";;;;;;AAAA;;;;;GAKG;AACH,4CAAoB;AAEpB,mEAA2C;AAE3C,SAAgB,iBAAiB,CAC/B,UAAkB,EAClB,SAAwC,EAAE;IAE1C,MAAM,EACJ,aAAa,EACb,GAAG,EAAE,SAAS,EACd,sBAAsB,GACvB,GAAG,IAAA,sBAAY,GAAE,CAAC;IACnB,IAAI,CAAC,sBAAsB,EAAE;QAC3B,MAAM,IAAI,KAAK,CACb,6JAA6J,CAC9J,CAAC;KACH;IACD,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,aAAa,IAAI,IAAI,EAAE;QACzB,MAAM,UAAU,GAAG,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,UAAU,KAAK,CAAC,CAAC,EAAE;YACrB,KAAK,GAAG,YAAE,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC;SAC3D;KACF;IACD,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IAC7B,OAAO,SAAS,GAAG,UAAU,GAAG,UAAU,GAAG,YAAE,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AACnE,CAAC;AAvBD,8CAuBC","sourcesContent":["/**\n * Copyright Â© 2022 650 Industries.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport qs from \"qs\";\n\nimport getDevServer from \"../getDevServer\";\n\nexport function buildUrlForBundle(\n  bundlePath: string,\n  params: Record<string, string | null> = {}\n): string {\n  const {\n    fullBundleUrl,\n    url: serverUrl,\n    bundleLoadedFromServer,\n  } = getDevServer();\n  if (!bundleLoadedFromServer) {\n    throw new Error(\n      \"This bundle was compiled with 'transformer.experimentalImportBundleSupport' in the 'metro.config.js' and can only be used when connected to a Metro server.\"\n    );\n  }\n  let query = {};\n  if (fullBundleUrl != null) {\n    const queryStart = fullBundleUrl.indexOf(\"?\");\n    if (queryStart !== -1) {\n      query = qs.parse(fullBundleUrl.substring(queryStart + 1));\n    }\n  }\n  Object.assign(query, params);\n  return serverUrl + bundlePath + \".bundle?\" + qs.stringify(query);\n}\n"]}